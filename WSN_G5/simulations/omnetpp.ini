# COSC 6357 â€“ WSN Group Project
# OMNeT++ 6.x configuration file

# --- General Settings ---
sim-time-limit = 1800s
repeat = 3
warmup-period = 60s
rng-class = "cMersenneTwister"

[Config Group5]
description = "Clustered(2 clusters,18); LEACH vs PEGASIS"
seed-set = 22360
network = WsnNetwork

# --- Topology & Nodes ---
**.numNodes = 18
**.topologyType = "clustered"
**.radio.txRange = "35m"

# --- CLUSTERING LOGIC (The Fix) ---
# Cluster 1 (Left): Nodes 0 to 8
# Center roughly at (100, 100) with random jitter
**.node[0..8].mobility.initialX = uniform(70m, 130m)
**.node[0..8].mobility.initialY = uniform(70m, 130m)

# Cluster 2 (Right): Nodes 9 to 17
# Center roughly at (300, 100) with random jitter
**.node[9..17].mobility.initialX = uniform(270m, 330m)
**.node[9..17].mobility.initialY = uniform(70m, 130m)

# Base Station Position
**.baseStation.mobility.initialX = 200m
**.baseStation.mobility.initialY = 300m

# --- Protocol Selection ---
*.activeProtocol = ${"Leach", "Pegasis"}

# --- Traffic Model ---
**.app.traffic = "constant"
**.app.packetInterval = 0.9s
**.app.payloadBytes = 64B

# --- Energy Model ---
**.node[*].initialJoules = ${14..26 step 4}J
**.node[*].radioTx_mA = 17.4
**.node[*].radioRx_mA = 19.7
**.node[*].sleep_mA = 0.06
**.node[*].supplyVoltage = 3.0V

# --- MODULE LINKING ---
**.wlan.interfaceTableModule = "^.interfaceTable"
**.wlan.radio.antenna.mobilityModule = "^.^.^.mobility"
**.wlan.radio.energyConsumer.energySourceModule = "^.^.energyStorage"
**.wlan.radio.energyConsumer.energySourceModule = "^.^.energyStorage"

# --- Radio Defaults ---
**.wlan.radio.typename = "Ieee802154NarrowbandScalarRadio"
**.wlan.radio.antenna.typename = "IsotropicAntenna"
**.wlan.radio.transmitter.power = 1mW
**.wlan.radio.receiver.sensitivity = -85dBm

# Disable INET internal energy consumption (We handle it in C++)
**.wlan.radio.receiver.energyConsumer.typename = "StateBasedEpEnergyConsumer"
**.wlan.radio.receiver.energyConsumer.offPowerConsumption = 0mW
**.wlan.radio.receiver.energyConsumer.sleepPowerConsumption = 0mW
**.wlan.radio.receiver.energyConsumer.receiverIdlePowerConsumption = 0mW
**.wlan.radio.receiver.energyConsumer.receiverBusyPowerConsumption = 0mW
**.wlan.radio.receiver.energyConsumer.receiverReceivingPowerConsumption = 0mW

# --- Output ---
output-scalar-file = "results/group5-${configname}-${runnumber}.sca"
output-vector-file = "results/group5-${configname}-${runnumber}.vec"
**.scalar-recording = true
**.vector-recording = true
**.stat.pdr = true
**.stat.delay = true
**.stat.residualEnergy = true
**.groupId = 5
**.groupKey = "22360-5"